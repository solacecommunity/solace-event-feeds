{
  "components": {
    "schemas": {
      "Product": {
        "x-ep-schema-version": "0.1.0",
        "x-ep-schema-version-id": "b9e6m9q6d08",
        "$schema": "http://json-schema.org/draft-06/schema#",
        "x-ep-schema-state-name": "RELEASED",
        "x-ep-schema-name": "Product",
        "type": "object",
        "x-ep-application-domain-id": "vmza4zp09f6",
        "required": [
          "description",
          "sku",
          "quantity",
          "price",
          "currency"
        ],
        "x-ep-schema-version-displayname": "",
        "x-ep-shared": "true",
        "x-ep-application-domain-name": "AcmeRetail - Enterprise Governance",
        "x-ep-schema-state-id": "2",
        "x-ep-schema-id": "fg5zssrrk5o",
        "properties": {
          "quantity": {
            "type": "integer"
          },
          "price": {
            "type": "number"
          },
          "description": {
            "type": "string"
          },
          "currency": {
            "type": "string"
          },
          "sku": {
            "type": "string"
          }
        }
      },
      "Retail_Order": {
        "x-ep-schema-version": "0.1.1",
        "x-ep-schema-version-id": "g1bkx9r66rf",
        "$schema": "https://json-schema.org/draft/2019-09/schema",
        "x-ep-schema-state-name": "RELEASED",
        "x-ep-schema-name": "Retail Order",
        "type": "object",
        "x-ep-application-domain-id": "s38y3vfzzf3",
        "required": [
          "customerId",
          "transactionState",
          "storeId",
          "products"
        ],
        "x-ep-schema-version-displayname": "",
        "x-ep-shared": "true",
        "x-ep-application-domain-name": "AcmeRetail - Store Operations",
        "x-ep-schema-state-id": "2",
        "x-ep-schema-id": "r1djsph5zq4",
        "properties": {
          "retailOrderNumber": {
            "type": "integer"
          },
          "associateId": {
            "type": "integer"
          },
          "posId": {
            "type": "integer"
          },
          "billTo": {
            "type": "object",
            "properties": {
              "zip": {
                "type": "string"
              },
              "address": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "state": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "address",
              "city",
              "state",
              "zip"
            ]
          },
          "customerId": {
            "type": "integer"
          },
          "storeId": {
            "type": "integer"
          },
          "transactionState": {
            "type": "integer"
          },
          "cardLastFour": {
            "type": "integer"
          },
          "paymentType": {
            "type": "integer"
          },
          "shipTo": {
            "type": "object",
            "properties": {
              "zip": {
                "type": "string"
              },
              "address": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "state": {
                "type": "string"
              },
              "storeId": {
                "type": "integer"
              }
            },
            "required": [
              "name",
              "address",
              "city",
              "state",
              "zip",
              "storeId"
            ]
          },
          "products": {
            "type": "object",
            "properties": {
              "quantity": {
                "type": "number"
              },
              "price": {
                "type": "number"
              },
              "description": {
                "type": "string"
              },
              "currency": {
                "type": "string"
              },
              "sku": {
                "type": "integer"
              }
            },
            "required": [
              "description",
              "sku",
              "quantity"
            ]
          }
        }
      }
    },
    "messages": {
      "Product": {
        "x-ep-event-id": "yaudi7mqend",
        "x-ep-event-version-displayname": "",
        "description": "An item for sale in the Acme-Retail store.  Can be used for inventory updates, or price changes distribution.",
        "x-ep-application-domain-id": "vmza4zp09f6",
        "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
        "x-ep-event-state-name": "RELEASED",
        "x-ep-shared": "true",
        "x-ep-application-domain-name": "AcmeRetail - Enterprise Governance",
        "x-ep-event-version-id": "uihicsv2vyx",
        "payload": {
          "$ref": "#/components/schemas/Product"
        },
        "x-ep-event-version": "0.1.2",
        "x-ep-event-name": "Product",
        "contentType": "application/json",
        "x-ep-event-state-id": "2"
      },
      "Retail_Order": {
        "x-ep-event-id": "zfcvt8avl9n",
        "x-ep-event-version-displayname": "",
        "description": "State change information about a single product order, from birth (regardless if from a store, mobile application or 3rd party) until fulfillment.\n\nA single product order typically  contain multiple products.",
        "x-ep-application-domain-id": "s38y3vfzzf3",
        "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
        "x-ep-event-state-name": "RELEASED",
        "x-ep-shared": "true",
        "x-ep-application-domain-name": "AcmeRetail - Store Operations",
        "x-ep-event-version-id": "d5w0je821fr",
        "payload": {
          "$ref": "#/components/schemas/Retail_Order"
        },
        "x-ep-event-version": "0.1.1",
        "x-ep-event-name": "Retail Order",
        "contentType": "application/json",
        "x-ep-event-state-id": "2"
      }
    }
  },
  "channels": {
    "acmeRetail/eeg/product/{productVerb}/v1/{department}/{upcCode}": {
      "subscribe": {
        "message": {
          "$ref": "#/components/messages/Product"
        }
      },
      "parameters": {
        "productVerb": {
          "schema": {
            "type": "string",
            "enum": [
              "added",
              "priceUpdated",
              "removed",
              "tempUnavail"
            ]
          },
          "x-ep-enum-state-name": "RELEASED",
          "x-ep-enum-version-displayname": "",
          "x-ep-enum-version": "0.1.1",
          "x-ep-enum-name": "Product Verbs",
          "x-ep-enum-state-id": "2",
          "x-ep-application-domain-id": "vmza4zp09f6",
          "x-ep-enum-version-id": "38m8hoo3xe4",
          "x-ep-enum-id": "8b8o7p6iiyk",
          "x-ep-shared": "true",
          "x-ep-parameter-name": "productVerb",
          "x-ep-application-domain-name": "AcmeRetail - Enterprise Governance"
        },
        "department": {
          "schema": {
            "type": "string",
            "enum": [
              "100",
              "110",
              "120",
              "130",
              "200",
              "300"
            ]
          },
          "x-ep-enum-state-name": "RELEASED",
          "x-ep-enum-version-displayname": "",
          "x-ep-enum-version": "0.1.1",
          "x-ep-enum-name": "Store Department",
          "x-ep-enum-state-id": "2",
          "x-ep-application-domain-id": "vmza4zp09f6",
          "x-ep-enum-version-id": "wdhdexeuk8v",
          "x-ep-enum-id": "29heoya70gh",
          "x-ep-shared": "true",
          "x-ep-parameter-name": "department",
          "x-ep-application-domain-name": "AcmeRetail - Enterprise Governance"
        },
        "upcCode": {
          "schema": {
            "type": "string"
          },
          "x-ep-parameter-name": "upcCode"
        }
      }
    },
    "acmeRetail/storeOps/retailOrder/{retailOrderVerb}/v1/{storeLocation}/{customerId}/{orderId}": {
      "subscribe": {
        "message": {
          "$ref": "#/components/messages/Retail_Order"
        }
      },
      "publish": {
        "bindings": {
          "solace": {
            "destinations": [
              {
                "destinationType": "queue",
                "queue": {
                  "name": "inStoreFulfillment.retailOrder.onlinePaid",
                  "topicSubscriptions": [
                    "acmeRetail/storeOps/retailOrder/onlinePaid/v1/*/*/*"
                  ]
                }
              }
            ],
            "bindingVersion": "0.3.0"
          }
        },
        "message": {
          "$ref": "#/components/messages/Retail_Order"
        }
      },
      "parameters": {
        "retailOrderVerb": {
          "schema": {
            "type": "string",
            "enum": [
              "customerInitiated",
              "customerCancelled",
              "customerCompleted",
              "customerPaid",
              "onlineInitiated",
              "onlineCancelled",
              "onlineCompleted",
              "onlinePaid",
              "onlineFulfilled"
            ]
          },
          "x-ep-enum-state-name": "RELEASED",
          "x-ep-enum-version-displayname": "",
          "x-ep-enum-version": "0.1.1",
          "x-ep-enum-name": "Retail Order Verbs",
          "x-ep-enum-state-id": "2",
          "x-ep-application-domain-id": "s38y3vfzzf3",
          "x-ep-enum-version-id": "znoy472dusp",
          "x-ep-enum-id": "pj9f30m4419",
          "x-ep-shared": "true",
          "x-ep-parameter-name": "retailOrderVerb",
          "x-ep-application-domain-name": "AcmeRetail - Store Operations"
        },
        "storeLocation": {
          "schema": {
            "type": "string",
            "enum": [
              "3487",
              "3488",
              "3489",
              "3490",
              "3491",
              "3492",
              "3493",
              "3494",
              "3495",
              "3496",
              "3497",
              "3498",
              "3499",
              "3500",
              "3501",
              "3502",
              "3503",
              "3504",
              "3505",
              "3506",
              "3507",
              "3508",
              "3509",
              "3555",
              "Mobile Application",
              "Test Data Generation",
              "Inhouse Traffic",
              "Partner"
            ]
          },
          "x-ep-enum-state-name": "RELEASED",
          "x-ep-enum-version-displayname": "",
          "x-ep-enum-version": "0.1.1",
          "x-ep-enum-name": "Store Locations",
          "x-ep-enum-state-id": "2",
          "x-ep-application-domain-id": "s38y3vfzzf3",
          "x-ep-enum-version-id": "4mhar60vpf6",
          "x-ep-enum-id": "52agdluo4sa",
          "x-ep-shared": "true",
          "x-ep-parameter-name": "storeLocation",
          "x-ep-application-domain-name": "AcmeRetail - Store Operations"
        },
        "orderId": {
          "schema": {
            "type": "string"
          },
          "x-ep-parameter-name": "orderId"
        },
        "customerId": {
          "schema": {
            "type": "string"
          },
          "x-ep-parameter-name": "customerId"
        }
      }
    }
  },
  "asyncapi": "2.5.0",
  "info": {
    "x-ep-application-version": "0.2.0",
    "x-ep-application-version-id": "vinw869e3im",
    "x-ep-application-id": "lcdl8rjcvsm",
    "description": "Mobile application used by personnel in stores for fulfillment of orders (mobile, website or partner) and for restocking shelves.\n\n\n---> Added Consumer Subscription\n\n",
    "x-ep-state-name": "RELEASED",
    "title": "In-Store Fulfillment Mobile Application",
    "x-ep-application-domain-id": "s38y3vfzzf3",
    "version": "0.2.0",
    "x-ep-state-id": "2",
    "x-ep-application-domain-name": "AcmeRetail - Store Operations"
  }
}